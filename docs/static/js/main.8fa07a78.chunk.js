(this.webpackJsonpproyecto_final=this.webpackJsonpproyecto_final||[]).push([[0],{10:function(e,t,a){e.exports={container:"cards_container__3J7jO",card:"cards_card__3JsSl",information:"cards_information__1DTFu",title:"cards_title__196iP",description:"cards_description__3gHzn",user:"cards_user__PPPj1",time:"cards_time__2h48K",history:"cards_history__2CdRq",history_icon:"cards_history_icon__6JBPF",image:"cards_image__2DLZe",interactions:"cards_interactions__3pqvj",editMode:"cards_editMode__UhPx1",favorite_false:"cards_favorite_false__3jQ_3",favorite_true:"cards_favorite_true__3F0lK",row:"cards_row__3wIc4",noPostImg:"cards_noPostImg__2_H0w",noPostText:"cards_noPostText__3ckqQ",noPostTextThin:"cards_noPostTextThin__2g-B4",noPostButton:"cards_noPostButton__3oeZ8"}},14:function(e,t,a){e.exports={header:"header_header__2gReV",logoContainer:"header_logoContainer__30yxl",container:"header_container__1MDe3",headerButton:"header_headerButton__qJzM8",home:"header_home__1Epr5",create:"header_create__2b8SX",mine:"header_mine__3BvuS",favs:"header_favs__Kq_ko",login:"header_login__ITd62",current_false:"header_current_false__23syD",border_home:"header_border_home__34FV4",border_create:"header_border_create__2DA1a",border_mine:"header_border_mine__EJGry",border_favs:"header_border_favs__29nSL"}},15:function(e,t,a){e.exports={container:"Login_container__2PQGn",main:"Login_main__3q5x4",form:"Login_form__3rsXb",inputs:"Login_inputs__3DQUy",h1:"Login_h1__3dL0-",username:"Login_username__N4nIb",password:"Login_password__1YDlK",error:"Login_error__1nM2Z",btn:"Login_btn__2MX4H",img:"Login_img__zyP_F"}},186:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(75),s=a.n(c),i=(a(84),a(5)),o=a(8),A=a.n(o),u=a(26),l=a(14),d=a.n(l),j=a(76),m=a.n(j),b=a(1),p=function(e){var t=e.active,a=e.icon,n=e.id,r=e.text,c=e.route,s=e.click,i="",o="";return t===c?(i="".concat(d.a["border_".concat(c)]),o="".concat(m.a.centerAppear," ").concat(d.a.headerButton," ").concat(d.a["".concat(c)])):o="".concat(d.a.headerButton,"  ").concat(d.a["".concat(c)]),Object(b.jsx)("div",{className:"".concat(i),children:Object(b.jsx)(u.b,{to:"/COMUNIDADUCAGRUPO25/".concat(c),children:Object(b.jsxs)("button",{className:"".concat(o),id:n,onClick:s,children:[a,Object(b.jsxs)("p",{children:[" ",r," "]})]})})})},h=a(49),x=a(33),O=a(16),v=a(12),f=a(3),g=a.n(f),_=a(4),N="https://posts-pw2021.herokuapp.com/api/v1",w={};w.login=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/auth/signin"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:t,password:a})});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}(),w.verifyToken=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(N,"/auth/whoami"),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 3:if((a=e.sent).ok){e.next=6;break}throw new Error;case 6:return e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();var k=w,y=r.a.createContext(),C="token",P=function(e){var t=Object(n.useState)(void 0),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(void 0),o=Object(i.a)(s,2),A=o[0],u=o[1];Object(n.useEffect)((function(){var e=function(){var e=Object(_.a)(g.a.mark((function e(){var t,a,n,r,c,s,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=T(),a=JSON.parse(localStorage.getItem("credentials")),n=a.user,r=a.password,!(t&&n&&r)){e.next=11;break}return e.next=5,k.verifyToken(t);case 5:return c=e.sent,s=c.username,i=c.role,e.next=10,d();case 10:s&&i&&u({username:s,role:i});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]);var l=function(e){localStorage.setItem(C,e),c(e)},d=Object(n.useCallback)((function(){var e=JSON.parse(localStorage.getItem("credentials")),t=e.user,a=e.password,n=function(){var e=Object(_.a)(g.a.mark((function e(){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,e.next=4,k.login(t,a);case 4:r=e.sent,(c=r.token)&&(l(c),n=!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:return e.prev=11,e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[1,9,11,14]])})));return function(){return e.apply(this,arguments)}}();return n()}),[]),j=Object(n.useCallback)((function(){u(void 0),l(void 0)}),[]),m=Object(n.useState)(window.innerWidth),p=Object(i.a)(m,2),h=p[0],x=p[1];Object(n.useEffect)((function(){return window.addEventListener("resize",(function(){x(window.innerWidth)})),function(){window.removeEventListener("resize",(function(){}))}}),[]);var O=Object(n.useMemo)((function(){return{token:r,user:A,login:d,logout:j,width:h,changeWidth:x}}),[r,A,h,d,j]);return Object(b.jsx)(y.Provider,Object(v.a)({value:O},e))},D=function(){var e=r.a.useContext(y);if(!e)throw new Error;return e},T=function(){return localStorage.getItem(C)},U=a(28),L=function(e){var t=e.headerOf,a="Publicar",n="Inicio",r="Mis publicaciones",c="Favoritos",s="Log Out";return"admin"===D().user.role?Object(b.jsxs)("div",{className:d.a.header,children:[Object(b.jsx)("div",{className:d.a.logoContainer,children:" "}),Object(b.jsxs)("div",{className:d.a.container,children:[Object(b.jsx)(p,{icon:Object(b.jsx)(U.c,{}),id:"button",active:t,route:"create",text:a,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(h.a,{}),id:"button",active:t,route:"home",text:n,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(U.a,{}),id:"button",active:t,route:"mine",text:r,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(x.b,{}),id:"button",active:t,route:"favs",text:c,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(O.b,{}),id:"button",active:t,route:"logout",text:s,children:"  "})]})]}):Object(b.jsxs)("div",{className:d.a.header,children:[Object(b.jsx)("div",{className:d.a.logoContainer,children:" "}),Object(b.jsxs)("div",{className:d.a.container,children:[Object(b.jsx)(p,{icon:Object(b.jsx)(h.a,{}),id:"button",active:t,route:"home",text:n,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(x.b,{}),id:"button",active:t,route:"favs",text:c,children:" "}),Object(b.jsx)(p,{icon:Object(b.jsx)(O.b,{}),id:"button",active:t,route:"logout",text:s,children:"  "})]})]})},S=a(10),B=a.n(S),R=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,n={method:"PATCH",headers:{Authorization:"Bearer ".concat(a)}},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/like/"+t,n);case 5:if((r=e.sent).ok){e.next=8;break}throw new Error;case 8:return e.next=10,r.json();case 10:return c=e.sent,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),H=R,M=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,n={method:"PATCH",headers:{Authorization:"Bearer ".concat(a)}},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav/"+t,n);case 5:if((r=e.sent).ok){e.next=8;break}throw new Error;case 8:return e.next=10,r.json();case 10:return c=e.sent,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),G=M,F=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("token"),e.prev=1,n={method:"PATCH",headers:{Authorization:"Bearer ".concat(a)}},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/toggle/"+t,n);case 5:if(e.sent.ok){e.next=8;break}throw new Error;case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),I=F;var E=function(e){var t=e.mode,a=e.id,r=e.title,c=e.description,s=e.image,o=e.user,A=e.fav,u=e.likes,l=e.active,d=e.time,j=e.comments,m=e.history,p=e.commentClick,h=e.editClick,O=e.historyClick,v=e.favClick,f=D().user,N=Object(n.useState)(u),w=Object(i.a)(N,2),k=w[0],y=w[1],C=Object(n.useState)(l),P=Object(i.a)(C,2),T=P[0],L=P[1],S=function(){Object(_.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(a);case 2:t=e.sent,console.log(t);case 4:case"end":return e.stop()}}),e)})))(),v(a)},R=function(){Object(_.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(a);case 2:case"end":return e.stop()}}),e)})))();var e=k.filter((function(e){return e.username===f.username})).length,t=k.filter((function(e){return e.username!==f.username}));y(e?t:k.concat([{username:f.username}]))};return Object(b.jsxs)("div",{className:B.a.card,children:[Object(b.jsxs)("div",{className:B.a.information,children:[Object(b.jsx)("p",{className:B.a.title,children:r}),Object(b.jsx)("p",{className:B.a.user,children:function(){var e=o.username.indexOf("_"),t=o.username.substring(2,e);return"Grupo ".concat(t)}()}),Object(b.jsx)("p",{title:new Date(d),className:B.a.time,children:function(){var e=new Date(d);return"".concat(e.toString().substring(0,24))}()}),Object(b.jsx)("div",{className:B.a.history,children:"admin"===t?T?Object(b.jsxs)("div",{className:B.a.editMode,children:[Object(b.jsx)("button",{name:a,onClick:h,title:"Editar",children:" \ud83c\udfa8 "}),Object(b.jsx)("button",{name:a,onClick:function(){I(a),L(!T)},title:"Eliminar",children:" \u274c "})]}):Object(b.jsx)("div",{className:B.a.editMode,children:Object(b.jsx)("button",{name:a,onClick:function(){I(a),L(!T)},title:"Activar",children:" \u2705 "})}):"user"===t||"favs"===t?m?Object(b.jsxs)("div",{className:B.a.editMode,children:[Object(b.jsx)("button",{name:a,onClick:O,title:"Historial",children:Object(b.jsx)(x.a,{name:a,className:B.a.history_icon})}),Object(b.jsx)("button",{name:a,onClick:S,title:"Hacer favorito",children:Object(b.jsx)(U.b,{className:B.a["favorite_".concat(A)]})})]}):Object(b.jsx)("div",{className:B.a.editMode,children:Object(b.jsx)("button",{name:a,onClick:S,title:"Hacer favorito",children:Object(b.jsx)(U.b,{className:B.a["favorite_".concat(A)]})})}):void 0}),Object(b.jsx)("p",{className:B.a.description,children:c})]}),Object(b.jsx)("div",{className:B.a.image,children:Object(b.jsx)("img",{src:s,alt:""})}),function(){if(u&&j&&T)return Object(b.jsxs)("div",{className:B.a.interactions,children:[Object(b.jsxs)("div",{className:B.a.row,children:[Object(b.jsx)("button",{onClick:R,name:a,children:" \ud83d\udc4d "}),Object(b.jsxs)("p",{title:"",children:[" ",k.length," Likes "]})]}),Object(b.jsxs)("div",{className:B.a.row,children:[Object(b.jsx)("button",{onClick:p,name:a,children:" \ud83d\udcac "}),Object(b.jsxs)("span",{children:[" ",j.length," Comentarios "]})]})]})}()]})},q=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=4,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/all?limit=15&page="+a,n);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error("");case 7:return e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{data:[]});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),Q=q,z=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=4,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/owned?limit=15&page="+a,n);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),console.log("ERROR DE AUTORIZACION "),e.abrupt("return",{data:[]});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),K=z,J=function(){var e=Object(_.a)(g.a.mark((function e(t){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=4,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/fav/",a);case 4:if((n=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{favorites:[]});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),Z=J,Y=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={method:"GET",headers:{Authorization:"Bearer ".concat(t)}},e.next=4,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/one/"+a,n);case 4:if((r=e.sent).ok){e.next=7;break}throw new Error;case 7:return e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{error:"Post not found!"});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}(),V=Y,X=a.p+"static/media/Background.ee77a05b.png",W=function(e){var t=e.mode,a=e.commentButton,r=e.editButton,c=e.historyButton,s=e.deleteButton,o=e.likeButton,A=Object(n.useState)(0),u=Object(i.a)(A,2),l=u[0],d=u[1],j=Object(n.useState)([]),m=Object(i.a)(j,2),p=m[0],h=m[1],x=Object(n.useState)([]),O=Object(i.a)(x,2),v=O[0],f=O[1];Object(n.useEffect)((function(){Object(_.a)(g.a.mark((function e(){var a,n,r,c,s,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("token"),n={data:[]},console.log("mode",t),a==={Error:!0}){e.next=27;break}return e.next=6,Z(a,0);case 6:if(r=e.sent,c=r.favorites,"admin"!==t){e.next=16;break}return e.next=11,K(a,0);case 11:n=e.sent,s=n.data,h(s),e.next=25;break;case 16:if("user"!==t){e.next=24;break}return e.next=19,Q(a,0);case 19:n=e.sent,i=n.data,h(i),e.next=25;break;case 24:"favs"===t&&(o=c.reverse().map(function(){var e=Object(_.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(a,t);case 2:if(n=e.sent,console.log("Post",p),r=p,"Post not found!"!==n.error){e.next=7;break}return e.abrupt("return");case 7:r.push(n),console.log(r),h(r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all(o));case 25:console.log(c),f(c);case 27:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){return function(){h([]),d(0),f([])}}),[t]),Object(n.useEffect)((function(){Object(_.a)(g.a.mark((function e(){var a,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Page has changed"),a=localStorage.getItem("token"),n={data:[]},"admin"!==t){e.next=9;break}return e.next=6,K(a,l);case 6:n=e.sent,e.next=13;break;case 9:if("user"!==t){e.next=13;break}return e.next=12,Q(a,l);case 12:n=e.sent;case 13:r=n.data,h(p.concat(r));case 15:case"end":return e.stop()}}),e)})))()}),[l]);var N=function(){d(l+1)},w=function(e){var t=[];t=v.includes(e)?v.filter((function(t){return t!==e})):v.concat([e]),f(t)};return Object(b.jsx)("div",{className:B.a.container,children:p&&0!==p.length?Object(b.jsxs)("div",{children:[p.map((function(e){var n=e.title,i=e.description,A=e.image,u=e.user,l=e.likes,d=e.active,j=e.history,m=e.createdAt,p=e._id,h=e.comments;return Object(b.jsx)(E,{mode:t,title:n,description:i,image:A,user:u,likes:l,fav:v.includes(p),active:d,history:j.length,time:m,id:p,comments:h,commentClick:a,editClick:r,favClick:w,historyClick:c,deleteButton:s,likeClick:o},p)})),Object(b.jsx)("button",{className:B.a.noPostButton,onClick:N,children:" Mostrar mas posts "})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{className:B.a.noPostText,children:"Oh... \xbfNo hay nada para mostrar?"}),Object(b.jsx)("p",{className:B.a.noPostTextThin,children:"(Interactua con la comunidad para ver posts en esta seccion)"}),Object(b.jsx)("img",{alt:"no post",className:B.a.noPostImg,src:X}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:B.a.noPostButton,onClick:function(){return window.location.reload()},children:"Intenta actualizar la pagina!!"})]})})},$=a(6),ee=a.n($);var te=function(e){var t=e.user,a=e.description;return Object(b.jsxs)("div",{className:ee.a.comment,children:[Object(b.jsx)("div",{className:ee.a.user,children:Object(b.jsxs)("p",{children:[" ",function(){var e=t.username.indexOf("_"),a=t.username.substring(2,e);return"Grupo ".concat(a)}()," "]})}),Object(b.jsx)("div",{className:ee.a.text,children:Object(b.jsx)("p",{children:a})})]})};var ae=function(e){var t=e.submit;return Object(b.jsx)("div",{className:ee.a.form,children:Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsx)("textarea",{placeholder:"Escribe tu comentario",required:!0,minLength:8,className:ee.a.textarea,type:"text",name:"comment"}),Object(b.jsx)("button",{type:"submit",value:"",children:Object(b.jsx)(O.c,{className:ee.a.img,alt:""})})]})})},ne=a(50),re=a.n(ne),ce=function(){var e=Object(_.a)(g.a.mark((function e(t,a){var n,r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("token"),e.prev=1,r={method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-type":"application/json"},body:JSON.stringify({description:a})},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/comment/"+t,r);case 5:if((c=e.sent).ok){e.next=8;break}throw new Error;case 8:return e.t0=console,e.next=11,c.json();case 11:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.abrupt("return",!0);case 16:return e.prev=16,e.t2=e.catch(1),console.log(e.t2),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,a){return e.apply(this,arguments)}}(),se=ce,ie=function(){var e=Object(_.a)(g.a.mark((function e(t,a,n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),e.prev=1,c={method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-type":"application/json"},body:JSON.stringify({title:t,description:a,image:n})},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/create",c);case 5:if(e.sent.ok){e.next=8;break}throw new Error;case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a,n){return e.apply(this,arguments)}}(),oe=ie,Ae=a(19),ue=a(25),le=a(52),de=a(20),je=de.a({title:de.b().min(8).max(32).required(),description:de.b().min(8).required(),image:de.b().url().required()}).required(),me=de.a({title:de.b().min(8).max(32),description:de.b().min(8),image:de.b().url()}),be=function(e){var t=e.updateData,a=e.display,r=D().user,c=Object(Ae.d)({resolver:Object(le.a)(je)}),s=c.register,o=c.handleSubmit,A=c.formState.errors,u=Object(Ae.d)({resolver:Object(le.a)(me)}),l=u.register,d=u.handleSubmit,j=u.formState.errors,m=Object(n.useState)([]),p=Object(i.a)(m,2),h=p[0],x=p[1],O=Object(n.useState)([]),f=Object(i.a)(O,2),N=f[0],w=f[1],k=Object(n.useState)({user:{},history:[]}),y=Object(i.a)(k,2),C=y[0],P=y[1];Object(n.useEffect)((function(){Object(_.a)(g.a.mark((function e(){var t,n,r,c,s,i,o,A,u,l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),"comment"!==a.show){e.next=9;break}return e.next=4,V(t,a.data.id);case 4:n=e.sent,r=n.comments,x(r),e.next=29;break;case 9:if("history"!==a.show){e.next=18;break}return e.next=12,V(t,a.data.id);case 12:c=e.sent,s=c.user,i=c.history,s&&i&&P({user:s,history:i}),e.next=29;break;case 18:if("edit"!==a.show){e.next=28;break}return e.next=21,V(t,a.data.id);case 21:o=e.sent,A=o.title,u=o.description,l=o.image,w(A?[A,u,l]:[void 0,void 0,void 0]),e.next=29;break;case 28:"create"===a.show&&w(["Pon un titulo","Que estas pensando?","Una imagen para acompa\xf1ar !!"]);case 29:case"end":return e.stop()}}),e)})))()}),[a]);var T=function(e){e.preventDefault(),se(a.data.id,e.target[0].value);var t={description:e.target[0].value,user:{username:r.username},_id:"618b50c35f980a8d86c5332a"};x(h.concat([t])),e.target.reset()},U=function(){return Object(b.jsxs)("div",{className:ee.a.commentContainer,children:[Object(b.jsxs)("div",{className:ee.a.commentBoxContainer,children:[Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:ee.a.padding,children:"Comentarios"})}),Object(b.jsx)("div",{className:ee.a.commentBox,children:Object(b.jsx)(ae,{submit:T})})]}),Object(b.jsx)("div",{className:ee.a.comments,children:h.length?h.map((function(e){var t=e._id,a=e.user,n=e.description;return Object(b.jsx)(te,{user:a,description:n},t)})):Object(b.jsx)("p",{className:ee.a.noComments,children:" No hay comentarios "})})]})},L=function(e){var a=e.id,n=e.banner,r=e.buttonBanner,c=e.title,s=e.description,i=e.image,o=function(e){t(e.target.name,e.target.value)};return Object(b.jsxs)("div",{className:ee.a.commentContainer,children:[Object(b.jsx)("div",{className:ee.a.commentBoxContainer,children:Object(b.jsx)("h2",{className:ee.a.padding,children:n})}),Object(b.jsx)("div",{className:ee.a.editForms,children:Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:ee.a.formColumm,onSubmit:d((function(e){var n=e.title,r=e.description,c=e.image;t(a,n,r,c||N[2])})),children:[Object(b.jsx)("input",{className:ee.a.submitsChanges,value:r,type:"submit"}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onChange:o},l("title")),{},{className:ee.a.boldTextArea,value:c,type:"text",placeholder:c})),j.title&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(j.title.message)]}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onChange:o},l("description")),{},{className:ee.a.textareaEdit,value:s,type:"text",placeholder:s})),j.description&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(j.description.message)]}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onKeyUp:function(e){w([N[0],N[1],e.target.value])}},l("image")),{},{className:ee.a.textareaEdit,value:i,type:"text",placeholder:i})),j.image&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(j.image.message)]}),Object(b.jsx)("div",{className:ee.a.image,children:Object(b.jsx)("img",{alt:"",src:i})})]})})})]})},S=function(e){e.id;var a=e.banner,n=e.buttonBanner,r=e.title,c=e.description,i=e.image,u=function(e){t(e.target.name,e.target.value)};return Object(b.jsxs)("div",{className:ee.a.commentContainer,children:[Object(b.jsx)("div",{className:ee.a.commentBoxContainer,children:Object(b.jsx)("h2",{className:ee.a.padding,children:a})}),Object(b.jsx)("div",{className:ee.a.editForms,children:Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:ee.a.formColumm,onSubmit:o((function(e){var a=e.title,n=e.description,r=e.image;w([a,n,r]),t("title",a),t("description",n),t("image",r),t("update",void 0),oe(a,n,r)})),children:[Object(b.jsx)("input",{className:ee.a.submitsChanges,value:n,type:"submit"}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onChange:u},s("title")),{},{className:ee.a.boldTextArea,type:"text",placeholder:r})),A.title&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(A.title.message)]}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onChange:u},s("description")),{},{className:ee.a.textareaEdit,type:"text",placeholder:c})),A.description&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(A.description.message)]}),Object(b.jsx)("textarea",Object(v.a)(Object(v.a)({onKeyUp:function(e){w([N[0],N[1],e.target.value])}},s("image")),{},{className:ee.a.textareaEdit,type:"text",placeholder:i})),A.image&&Object(b.jsxs)("p",{className:ee.a.alert,children:[Object(b.jsx)(ue.a,{})," ".concat(A.image.message)]}),Object(b.jsx)("div",{className:ee.a.image,children:Object(b.jsx)("img",{alt:"INGRESA UNA URL VALIDA",src:i})})]})})})]})},B=function(){return console.log(C),Object(b.jsxs)("div",{className:ee.a.commentContainer,children:[Object(b.jsx)("div",{className:"".concat(ee.a.marginButtom," ").concat(ee.a.commentBoxContainer),children:Object(b.jsx)("h2",{className:ee.a.padding,children:"Estas son las versiones anteriores de la publicaci\xf3n"})}),C.history.map((function(e){var t=e.description,a=e.title,n=e.image,r=e.modifiedAt;return Object(b.jsx)(E,{user:C.user,title:a,description:t,image:n,time:r,likes:void 0,comments:void 0})}))]})};return Object(b.jsxs)("div",{className:"".concat(ee.a.container),children:[Object(b.jsx)("div",{className:"".concat(re.a["loading-"+a.show]," ").concat(re.a[N[0]])}),!a.show&&Object(b.jsx)("img",{className:ee.a.empty,alt:"",src:"data:image/png;base64,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"}),"comment"===a.show?Object(b.jsx)(U,{}):"edit"===a.show?Object(b.jsx)(L,{banner:"Edit tu publicaci\xf3n",buttonBanner:"Cambiar datos",id:a.data.id,title:N[0],description:N[1],image:N[2]}):"create"===a.show?Object(b.jsx)(S,{banner:"Crea una nueva publicaci\xf3n",buttonBanner:"Publicar",title:N[0],description:N[1],image:N[2]}):"history"===a.show?Object(b.jsx)(B,{}):void 0]})},pe=function(){var e="user",t=D().width,a=Object(n.useState)({show:"",data:""}),r=Object(i.a)(a,2),c=r[0],s=r[1],o=function(e){e.target.name?s({show:"history",data:{id:e.target.name}}):(console.log(e.currentTarget.name),s({show:"history",data:{id:e.currentTarget.name}}))},u=function(e){s({show:"comment",data:{id:e.target.name}})},l=function(){return t>=1024&&!(t<window.innerHeight)?Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(be,{display:c}),Object(b.jsx)(W,{mode:e,historyButton:o,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})},d=function(){return t<1024||t<window.innerHeight?c.show?Object(b.jsxs)("div",{className:A.a.mobileDisplay,children:[Object(b.jsxs)("button",{className:A.a.closeButton,onClick:function(){s({show:"",data:""})},children:[Object(b.jsx)(O.a,{}),Object(b.jsx)("span",{children:"Regresar"})]}),Object(b.jsx)(be,{display:c})]}):Object(b.jsxs)("div",{className:A.a.cardMobile,children:[Object(b.jsx)("h2",{className:A.a.title,children:Object(b.jsx)("p",{children:"Publicaciones de la comunidad"})}),Object(b.jsx)(W,{mode:e,historyButton:o,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})};return Object(b.jsxs)("div",{className:A.a.main,children:[Object(b.jsx)(L,{headerOf:"home"}),Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(d,{}),Object(b.jsx)(l,{})]})]})},he=function(){var e=Object(_.a)(g.a.mark((function e(t,a,n,r){var c,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=localStorage.getItem("token"),e.prev=1,s={method:"PUT",headers:{Authorization:"Bearer ".concat(c),"Content-type":"application/json"},body:JSON.stringify({title:a,description:n,image:r})},e.next=5,fetch("https://posts-pw2021.herokuapp.com/api/v1/post/update/"+t,s);case 5:if(e.sent.ok){e.next=8;break}throw new Error;case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),xe=he,Oe=function(){var e="admin",t=D().width,a=Object(n.useState)({show:"",data:""}),r=Object(i.a)(a,2),c=r[0],s=r[1],o=function(e){s({show:"edit",data:{id:e.target.name}})},u=function(e){s({show:"comment",data:{id:e.target.name}})},l=function(e,t,a,n){console.log(e,t,a,n),xe(e,t,a,n),s({show:"",data:""})},d=function(){return t>=1024&&!(t<window.innerHeight)?Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(be,{updateData:l,display:c}),Object(b.jsx)(W,{mode:e,editButton:o,likeButton:m,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})},j=function(){return t<1024||t<window.innerHeight?c.show?Object(b.jsxs)("div",{className:A.a.mobileDisplay,children:[Object(b.jsxs)("button",{className:A.a.closeButton,onClick:function(){s({show:"",data:""})},children:[Object(b.jsx)(O.a,{}),Object(b.jsx)("span",{children:"Regresar"})]}),Object(b.jsx)(be,{updateData:l,display:c})]}):Object(b.jsxs)("div",{className:A.a.cardMobile,children:[Object(b.jsx)("h2",{className:A.a.title,children:Object(b.jsx)("p",{children:"Mis Publicaciones"})}),Object(b.jsx)(W,{mode:e,editButton:o,likeButton:m,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})},m=function(){};return Object(b.jsxs)("div",{className:A.a.main,children:[Object(b.jsx)(L,{headerOf:"mine"}),Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(j,{}),Object(b.jsx)(d,{})]})]})},ve=function(){var e="favs",t=D().width,a=Object(n.useState)({show:"",data:""}),r=Object(i.a)(a,2),c=r[0],s=r[1],o=function(e){s({show:"history",data:{id:e.target.name}})},u=function(e){s({show:"comment",data:{id:e.target.name}})},l=function(){return t>=1024&&!(t<window.innerHeight)?Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(be,{display:c}),Object(b.jsx)(W,{mode:e,historyButton:o,likeButton:j,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})},d=function(){return t<1024||t<window.innerHeight?c.show?Object(b.jsxs)("div",{className:A.a.mobileDisplay,children:[Object(b.jsxs)("button",{className:A.a.closeButton,onClick:function(){s({show:"",data:""})},children:[Object(b.jsx)(O.a,{}),Object(b.jsx)("span",{children:"Regresar"})]}),Object(b.jsx)(be,{display:c})]}):Object(b.jsxs)("div",{className:A.a.cardMobile,children:[Object(b.jsx)("h2",{className:A.a.title,children:Object(b.jsx)("p",{children:"Mis Publicaciones Favoritas"})}),Object(b.jsx)(W,{mode:e,historyButton:o,likeButton:j,commentButton:u})]}):Object(b.jsx)(b.Fragment,{})},j=function(){};return Object(b.jsxs)("div",{className:A.a.main,children:[Object(b.jsx)(L,{headerOf:"favs"}),Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(d,{}),Object(b.jsx)(l,{})]})]})},fe=a(7),ge=a.p+"static/media/image-placeholder.6c3ce80f.png",_e=function(){var e=D().width,t=Object(n.useState)({show:"create"}),a=Object(i.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)("[ASI SE VERA TU PUBLICACION]"),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Object(n.useState)(ge),j=Object(i.a)(d,2),m=j[0],p=j[1],h=Object(n.useState)("[Que estas pensando?]"),x=Object(i.a)(h,2),O=x[0],v=x[1],f={user:{username:"gp25_admin"},title:"[ASI SE VERA TU PUBLICACION]",description:"[Que estas pensando?]",image:ge,time:Date.now(),likes:[],comments:[]},g=function(e,t){console.log(e,t),"title"===e?l(t):"image"===e?p(t):"description"===e?v(t):c({show:"",data:""})},_=function(){return e>=1024&&!(e<window.innerHeight)?Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(be,{updateData:g,display:r}),Object(b.jsx)("div",{className:A.a.previewCardContiner,children:Object(b.jsx)(E,{user:f.user,title:u,description:O,image:m,time:f.time,likes:f.likes,active:!0,comments:f.comments})})]}):Object(b.jsx)(b.Fragment,{})},N=function(){return e<1024||e<window.innerHeight?r.show?Object(b.jsx)("div",{className:A.a.mobileDisplay,children:Object(b.jsx)(be,{updateData:g,display:r})}):Object(b.jsxs)("div",{className:A.a.cardMobile,children:[Object(b.jsx)("h2",{className:A.a.title,children:Object(b.jsx)("p",{children:"Mi nueva publicacion"})}),Object(b.jsx)(E,{user:f.user,title:u,description:O,image:m,time:f.time,likes:f.likes,active:!0,comments:f.comments})]}):Object(b.jsx)(b.Fragment,{})};return Object(b.jsxs)("div",{className:A.a.main,children:[Object(b.jsx)(L,{headerOf:"create"}),Object(b.jsxs)("div",{className:A.a.container,children:[Object(b.jsx)(N,{}),Object(b.jsx)(_,{})]})]})},Ne=a(15),we=a.n(Ne),ke=a.p+"static/media/login-imgGris.7b02e34b.png";function ye(){var e=D(),t=e.login,a=e.token,r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],A=Object(n.useState)(""),u=Object(i.a)(A,2),l=u[0],d=u[1],j=Object(n.useState)(!1),m=Object(i.a)(j,2),p=m[0],h=m[1];if(a)return Object(b.jsx)(fe.a,{replace:!0,to:"/COMUNIDADUCAGRUPO25/home"});var x=function(e,t){t(e.target.value)},O=function(){var e=Object(_.a)(g.a.mark((function e(a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),localStorage.setItem("credentials",JSON.stringify({user:s,password:l})),e.next=4,t();case 4:n=e.sent,h(!n),o(""),d("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:we.a.container,children:Object(b.jsx)("div",{className:we.a.main,children:Object(b.jsxs)("form",{onSubmit:O,className:we.a.form,children:[Object(b.jsxs)("div",{className:we.a.inputs,children:[Object(b.jsx)("h1",{className:we.a.h1,children:" Log in"}),Object(b.jsx)("input",{className:we.a.username,type:"text",value:s,placeholder:"username",onChange:function(e){return x(e,o)}}),Object(b.jsx)("input",{className:we.a.password,type:"password",placeholder:"password",onChange:function(e){return x(e,d)},value:l}),p&&Object(b.jsx)("p",{className:we.a.error,children:"Un error ha ocurrido en el inicio de sesi\xf3n"}),Object(b.jsx)("button",{className:we.a.btn,children:"Sign In "})]}),Object(b.jsx)("div",{className:we.a.img,children:Object(b.jsx)("img",{alt:"",src:ke,className:we.a.img})})]})})})}var Ce=function(){var e=Object(fe.g)(),t=D().logout;return Object(b.jsx)(b.Fragment,{children:(t(),localStorage.setItem("credentials",JSON.stringify({user:"",password:""})),void e("/COMUNIDADUCAGRUPO25/login"))})};var Pe=function(){var e=D(),t=e.token,a=e.user,n=function(e){var n=e.rute;if(!t)return Object(b.jsx)(fe.a,{replace:!0,to:"/COMUNIDADUCAGRUPO25/login"});switch(a||window.location.reload(),n){case"home":return Object(b.jsx)(pe,{});case"create":return Object(b.jsx)(_e,{});case"favs":return Object(b.jsx)(ve,{});case"mine":return Object(b.jsx)(Oe,{});case"logout":return Object(b.jsx)(Ce,{})}};return Object(b.jsx)(u.a,{children:Object(b.jsxs)(fe.d,{children:[Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25",element:Object(b.jsx)(fe.a,{replace:!0,to:"/COMUNIDADUCAGRUPO25/login"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/login",element:Object(b.jsx)(ye,{})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/home",element:Object(b.jsx)(n,{rute:"home"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/create",element:Object(b.jsx)(n,{rute:"create"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/favs",element:Object(b.jsx)(n,{rute:"favs"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/mine",element:Object(b.jsx)(n,{rute:"mine"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/logout",element:Object(b.jsx)(n,{rute:"logout"})}),Object(b.jsx)(fe.b,{path:"/COMUNIDADUCAGRUPO25/*",element:Object(b.jsx)(fe.a,{replace:!0,to:"/COMUNIDADUCAGRUPO25/login"})}),Object(b.jsx)(fe.b,{path:"*",element:Object(b.jsx)(fe.a,{replace:!0,to:"/COMUNIDADUCAGRUPO25/login"})})]})})},De=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,187)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};localStorage.getItem("token")||localStorage.setItem("token",JSON.stringify({token:""})),localStorage.getItem("credentials")||localStorage.setItem("credentials",JSON.stringify({user:"",password:""})),s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(P,{children:Object(b.jsx)(Pe,{})})}),document.getElementById("root")),De()},50:function(e,t,a){e.exports={create:"animation_create__1Oj1v","loading-create":"animation_loading-create__1-EKx","loading-history":"animation_loading-history__1wrSO","loading-edit":"animation_loading-edit__29F8g","loading-comment":"animation_loading-comment__391UN",true:"animation_true__38LIf"}},6:function(e,t,a){e.exports={container:"Displayer_container__2EfDs",commentContainer:"Displayer_commentContainer__-poo6",comments:"Displayer_comments__WQJRy",comment:"Displayer_comment__1cdp_",user:"Displayer_user__3n896",padding:"Displayer_padding__2kGlc",commentBoxContainer:"Displayer_commentBoxContainer__ayovf",noComments:"Displayer_noComments__2zt3J",form:"Displayer_form__3lTyz",textarea:"Displayer_textarea__1h4fv",img:"Displayer_img__3ZOLR",history:"Displayer_history__1Nrid",editForms:"Displayer_editForms__2et2v",formColumm:"Displayer_formColumm__EhS6J",alert:"Displayer_alert__1jbZ9",textareaEdit:"Displayer_textareaEdit__3nwtT",boldTextArea:"Displayer_boldTextArea__1ceFr",submitsChanges:"Displayer_submitsChanges__zDG6r",image:"Displayer_image__O1Tns",empty:"Displayer_empty__1T1u0",marginButtom:"Displayer_marginButtom__2JpFH"}},76:function(e,t,a){e.exports={centerAppear:"animations_centerAppear__3dXSG",borderApear:"animations_borderApear__u__yp","borderApear-mobile":"animations_borderApear-mobile__viJHq"}},8:function(e,t,a){e.exports={App:"App_App__1bIV2","App-logo":"App_App-logo__1Pmsq","App-logo-spin":"App_App-logo-spin__2Z24h","App-header":"App_App-header__CMLqz","App-link":"App_App-link__2yKBR",container:"App_container__3UTFl",title:"App_title__ItP4V",cardMobile:"App_cardMobile__2H6No",mobileDisplay:"App_mobileDisplay__2geg6",closeButton:"App_closeButton__3hhkT",previewCardContiner:"App_previewCardContiner__2KjOH"}},84:function(e,t,a){}},[[186,1,2]]]);
//# sourceMappingURL=main.8fa07a78.chunk.js.map